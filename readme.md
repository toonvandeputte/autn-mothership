# Mothership character profile web UI

This is a small Flask-based (Python) web application to render printable views of the character json files, as generated by the Mothership RPG companion app.

## Requirements

If you want to run this via Docker, you will need Docker on your machine (and on any deployment servers).

You can also just use Python and Flask's built in dev server without Docker. In that case, you will need Python (should work from Python 3.8 onwards)

## Basic structure

- app: contains application logic, templates and static files (as per Flask defaults)
- data: contains data files, specifically `skills.json` which maps skills to their level to determine the bonus, and a `characters` dir where you can put your exported json files. There is one example which you can delete.

### These files are used for deploying/running the application on a server:

- config.py & config_remote.py: contain config vars for your deploymant. Currently only the server to be used (flask or waitress). `config_remote.py` should be copied to `remote.py` to change its behaviour.
- Dockerfile: To run the application, specifically on a server, this Dockerfile can be used to create a custom Python environment with all required modules.
- run.py: The main script to serve your app via the server setting in `config.py`.
- start.sh: A helper shell script to build the Docker container and run it in one action. This can be run locally or on your deployment server.

### Tailwind files

The css for the web app is Tailwind-based, which is run via a Docker container to prevent the need for a full local node setup. To make this easier, the repository contains some shell scripts:

- tailwind-watch.sh: watches your template files for changes and regenerates css.
- tailwind.sh: installs your local tailwind environment based on the `tailwind.config.js` file.
- tailwind.config.js: the standard Tailwind config file

If you have Node setup on your machine and are more comfortable with running Tailwind natively, you can of course do that, it will work just the same. In that case, the `tailwind-watch.sh` script might still be useful to find out the css paths used.

## Running the app.

If you do `bash start.sh` in the root dir of this repository, the Docker container will be built, the Python requirements will be installed and the Flask dev server will serve the app on `localhost:5050`. There, you should find a very simple menu which will eventually lead you to the example character sheet.

If you want to serve the app via Waitress, change the value in `config.py` accordingly, and run `start.sh` again.

Those if you familiar with Docker will know this, but any changes you make are not reflected immediately. In order to see changes you will have to rebuild the container.